<Window
    x:Class="ThemeSwitch.Views.Windows.ThemeSwitchTrayWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:rootservice="using:ThemeSwitch.Services.Root"
    xmlns:settingsservice="using:ThemeSwitch.Services.Controls.Settings"
    Title="{x:Bind rootservice:ResourceService.ThemeSwitchTrayResource.GetString('ThemeSwitch')}"
    mc:Ignorable="d">

    <Window.SystemBackdrop>
        <MicaBackdrop />
    </Window.SystemBackdrop>

    <Grid
        FlowDirection="{x:Bind settingsservice:LanguageService.FlowDirection}"
        Loaded="{x:Bind OnLoaded}"
        RequestedTheme="{x:Bind WindowTheme, Mode=OneWay}">
        <Grid.Resources>
            <MenuFlyout x:Name="ThemeSwitchFlyout">
                <MenuFlyoutItem Click="{x:Bind OnOpenMainProgramClicked}" Text="{x:Bind rootservice:ResourceService.ThemeSwitchTrayResource.GetString('OpenMainProgram')}">

                    <MenuFlyoutItem.Icon>
                        <FontIcon Glyph="&#xE80F;" />
                    </MenuFlyoutItem.Icon>
                </MenuFlyoutItem>

                <MenuFlyoutItem Click="{x:Bind OnSwitchSystemThemeClicked}" Text="{x:Bind rootservice:ResourceService.ThemeSwitchTrayResource.GetString('SwitchSystemTheme')}">

                    <MenuFlyoutItem.Icon>
                        <FontIcon Glyph="&#xE770;" />
                    </MenuFlyoutItem.Icon>
                </MenuFlyoutItem>

                <MenuFlyoutItem Click="{x:Bind OnSwitchAppThemeClicked}" Text="{x:Bind rootservice:ResourceService.ThemeSwitchTrayResource.GetString('SwitchAppTheme')}">

                    <MenuFlyoutItem.Icon>
                        <FontIcon Glyph="&#xE71D;" />
                    </MenuFlyoutItem.Icon>
                </MenuFlyoutItem>

                <MenuFlyoutSeparator />

                <MenuFlyoutItem Click="{x:Bind OnExitClicked}" Text="{x:Bind rootservice:ResourceService.ThemeSwitchTrayResource.GetString('Exit')}">

                    <MenuFlyoutItem.Icon>
                        <FontIcon Glyph="&#xE711;" />
                    </MenuFlyoutItem.Icon>
                </MenuFlyoutItem>
            </MenuFlyout>
        </Grid.Resources>
    </Grid>
</Window>
