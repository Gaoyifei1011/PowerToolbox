<Page
    x:Class="WindowsTools.Views.Pages.UpdateManagerPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:animatedvisuals="using:Microsoft.UI.Xaml.Controls.AnimatedVisuals"
    xmlns:controlHelper="using:WindowsTools.Helpers.Controls"
    xmlns:converter="using:WindowsTools.Helpers.Converters"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:helper="using:WindowsTools.Helpers.Root"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:model="using:WindowsTools.Models"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
    xmlns:root="using:WindowsTools.Services.Root"
    xmlns:service="using:WindowsTools.Services.Controls.Settings"
    xmlns:sys="using:System"
    Loaded="{x:Bind OnLoaded}"
    NavigationCacheMode="Enabled"
    mc:Ignorable="d">

    <Page.Resources>
        <CornerRadius x:Key="ListViewItemCornerRadius">0</CornerRadius>
        <SolidColorBrush x:Key="ListViewItemBackgroundPointerOver" Color="Transparent" />
        <SolidColorBrush x:Key="ListViewItemBackgroundPressed" Color="Transparent" />

        <XamlUICommand x:Name="AvailableCancelInstallCommand" ExecuteRequested="{x:Bind OnAvailableCancelInstallExecuteRequested}" />
        <XamlUICommand x:Name="AvailableHideCommand" ExecuteRequested="{x:Bind OnAvailableHideExecuteRequested}" />
        <XamlUICommand x:Name="AvailableInstallCommand" ExecuteRequested="{x:Bind OnAvailableInstallExecuteRequested}" />
        <XamlUICommand x:Name="AvailableCheckBoxClickCommand" ExecuteRequested="{x:Bind OnAvailableCheckClickExecuteRequested}" />
        <XamlUICommand x:Name="InstalledUnInstallCommand" ExecuteRequested="{x:Bind OnInstalledUnInstallExecuteRequested}" />
        <XamlUICommand x:Name="InstalledCheckBoxClickCommand" ExecuteRequested="{x:Bind OnInstalledCheckBoxClickExecuteRequested}" />
        <XamlUICommand x:Name="HiddenShowCommand" ExecuteRequested="{x:Bind OnHiddenShowExecuteRequested}" />
        <XamlUICommand x:Name="HiddenCheckBoxClickCommand" ExecuteRequested="{x:Bind OnHiddenCheckBoxClickExecuteRequested}" />
        <XamlUICommand x:Name="OpenSupportUrlCommand" ExecuteRequested="{x:Bind OnOpenSupportUrlExecuteRequested}" />
        <XamlUICommand x:Name="CopyInformationCommand" ExecuteRequested="{x:Bind OnCopyInformationExecuteRequested}" />
    </Page.Resources>

    <Grid>
        <StackPanel
            Margin="0,12,30,0"
            HorizontalAlignment="Right"
            VerticalAlignment="Top"
            Canvas.ZIndex="1"
            Orientation="Horizontal"
            Spacing="5">

            <Button
                Click="{x:Bind OnCheckUpdateClicked}"
                IsEnabled="{x:Bind IsCheckUpdateEnabled, Mode=OneWay}"
                Style="{StaticResource AccentButtonStyle}">

                <Button.Content>
                    <Grid>
                        <StackPanel
                            Orientation="Horizontal"
                            Spacing="3"
                            Visibility="{x:Bind IsChecking, Mode=OneWay}">

                            <muxc:ProgressRing
                                Width="16"
                                Height="16"
                                IsActive="{x:Bind IsChecking, Mode=OneWay}" />
                            <TextBlock Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('CheckingUpdate')}" />
                        </StackPanel>

                        <TextBlock Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('ChcekUpdate')}" Visibility="{x:Bind converter:ValueConverterHelper.BooleanToVisibilityReverseConvert(IsChecking), Mode=OneWay}" />
                    </Grid>
                </Button.Content>
            </Button>

            <muxc:DropDownButton x:Name="OthersButton" Content="{x:Bind root:ResourceService.UpdateManagerResource.GetString('Others')}">

                <muxc:DropDownButton.Flyout>
                    <MenuFlyout Placement="Bottom">
                        <MenuFlyoutItem Click="{x:Bind OnWindowsUpdateClicked}" Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('WindowsUpdate')}">

                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="&#xE777;" />
                            </MenuFlyoutItem.Icon>
                        </MenuFlyoutItem>

                        <MenuFlyoutItem
                            Click="{x:Bind OnWIPSettingsClicked}"
                            Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('WIPSettings')}"
                            ToolTipService.ToolTip="{x:Bind root:ResourceService.UpdateManagerResource.GetString('WIPSettingsToolTip')}">

                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="&#xE8A1;" />
                            </MenuFlyoutItem.Icon>
                        </MenuFlyoutItem>

                        <MenuFlyoutItem Click="{x:Bind OnWindowsUpdateInformationClicked}" Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('WindowsUpdateInformation')}">

                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="&#xE946;" />
                            </MenuFlyoutItem.Icon>
                        </MenuFlyoutItem>
                    </MenuFlyout>
                </muxc:DropDownButton.Flyout>

                <FlyoutBase.AttachedFlyout>
                    <Flyout Placement="Bottom" ShouldConstrainToRootBounds="False">
                        <StackPanel Spacing="3">
                            <TextBlock>
                                <Run Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('WindowsUpdateVersion')}" />
                                <Run Text="{x:Bind WindowsUpdateVersion, Mode=OneWay}" />
                            </TextBlock>

                            <TextBlock>
                                <Run Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('WuapiDllVersion')}" />
                                <Run Text="{x:Bind WuapiDllVersion, Mode=OneWay}" />
                            </TextBlock>
                        </StackPanel>
                    </Flyout>
                </FlyoutBase.AttachedFlyout>
            </muxc:DropDownButton>
        </StackPanel>

        <muxc:NavigationView
            x:Name="UpdateManagerNavigationView"
            Margin="14,0,0,0"
            Canvas.ZIndex="0"
            IsBackButtonVisible="Collapsed"
            IsPaneToggleButtonVisible="False"
            IsSettingsVisible="False"
            ItemInvoked="{x:Bind OnItemInvoked}"
            PaneDisplayMode="Top"
            SelectedItem="{x:Bind SelectedItem, Mode=OneWay}">

            <muxc:NavigationView.MenuItems>
                <muxc:NavigationViewItem>
                    <muxc:NavigationViewItem.Content>
                        <TextBlock
                            x:Name="AvailableUpdateText"
                            Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('AvailableUpdate')}"
                            TextTrimming="CharacterEllipsis"
                            TextWrapping="NoWrap" />
                    </muxc:NavigationViewItem.Content>

                    <ToolTipService.ToolTip>
                        <ToolTip
                            MaxWidth="9999"
                            Content="{x:Bind root:ResourceService.UpdateManagerResource.GetString('AvailableUpdate')}"
                            Visibility="{x:Bind AvailableUpdateText.IsTextTrimmed, Mode=OneWay}" />
                    </ToolTipService.ToolTip>
                </muxc:NavigationViewItem>

                <muxc:NavigationViewItem>
                    <muxc:NavigationViewItem.Content>
                        <TextBlock
                            x:Name="InstalledUpdateText"
                            Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('InstalledUpdate')}"
                            TextTrimming="CharacterEllipsis"
                            TextWrapping="NoWrap" />
                    </muxc:NavigationViewItem.Content>

                    <ToolTipService.ToolTip>
                        <ToolTip
                            MaxWidth="9999"
                            Content="{x:Bind root:ResourceService.UpdateManagerResource.GetString('InstalledUpdate')}"
                            Visibility="{x:Bind InstalledUpdateText.IsTextTrimmed, Mode=OneWay}" />
                    </ToolTipService.ToolTip>
                </muxc:NavigationViewItem>

                <muxc:NavigationViewItem>
                    <muxc:NavigationViewItem.Content>
                        <TextBlock
                            x:Name="HiddenUpdateText"
                            Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('HiddenUpdate')}"
                            TextTrimming="CharacterEllipsis"
                            TextWrapping="NoWrap" />
                    </muxc:NavigationViewItem.Content>

                    <ToolTipService.ToolTip>
                        <ToolTip
                            MaxWidth="9999"
                            Content="{x:Bind root:ResourceService.UpdateManagerResource.GetString('HiddenUpdate')}"
                            Visibility="{x:Bind HiddenUpdateText.IsTextTrimmed, Mode=OneWay}" />
                    </ToolTipService.ToolTip>
                </muxc:NavigationViewItem>

                <muxc:NavigationViewItem>
                    <muxc:NavigationViewItem.Content>
                        <TextBlock
                            x:Name="UpdateHistoryText"
                            Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('UpdateHistory')}"
                            TextTrimming="CharacterEllipsis"
                            TextWrapping="NoWrap" />
                    </muxc:NavigationViewItem.Content>

                    <ToolTipService.ToolTip>
                        <ToolTip
                            MaxWidth="9999"
                            Content="{x:Bind root:ResourceService.UpdateManagerResource.GetString('UpdateHistory')}"
                            Visibility="{x:Bind UpdateHistoryText.IsTextTrimmed, Mode=OneWay}" />
                    </ToolTipService.ToolTip>
                </muxc:NavigationViewItem>
            </muxc:NavigationView.MenuItems>

            <ScrollViewer>
                <StackPanel Margin="16,0,30,0">
                    <!--  可用更新  -->
                    <Grid
                        Height="61"
                        Margin="0,0,0,3"
                        Padding="18,0,10,0"
                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1"
                        CornerRadius="{StaticResource ControlCornerRadius}"
                        Visibility="{x:Bind converter:ValueCheckConverterHelper.IsCurrentItem(SelectedItem, UpdateManagerNavigationView.MenuItems[0]), Mode=OneWay}">

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <FontIcon
                            Grid.Column="0"
                            Margin="0,0,12,0"
                            FontSize="16"
                            Glyph="&#xE74C;" />

                        <TextBlock
                            Grid.Column="1"
                            VerticalAlignment="Center"
                            Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('Operation')}" />

                        <ContentControl
                            Grid.Column="2"
                            VerticalAlignment="Center"
                            IsEnabled="{x:Bind sys:Convert.ToBoolean(AvailableUpdateCollection.Count), Mode=OneWay}">

                            <StackPanel Orientation="Horizontal">
                                <AppBarButton
                                    Margin="0,0,3,0"
                                    VerticalAlignment="Center"
                                    Click="{x:Bind OnAvailableSelectAllClicked}"
                                    Label="{x:Bind root:ResourceService.UpdateManagerResource.GetString('SelectAll')}"
                                    Style="{StaticResource AppBarButtonStyle}">

                                    <AppBarButton.Icon>
                                        <FontIcon Glyph="&#xE8B3;" />
                                    </AppBarButton.Icon>
                                </AppBarButton>

                                <AppBarButton
                                    Margin="0,0,3,0"
                                    VerticalAlignment="Center"
                                    Click="{x:Bind OnAvailableSelectNoneClicked}"
                                    Label="{x:Bind root:ResourceService.UpdateManagerResource.GetString('SelectNone')}"
                                    Style="{StaticResource AppBarButtonStyle}">

                                    <AppBarButton.Icon>
                                        <FontIcon Glyph="&#xEA48;" />
                                    </AppBarButton.Icon>
                                </AppBarButton>

                                <AppBarButton
                                    Margin="0,0,3,0"
                                    VerticalAlignment="Center"
                                    Click="{x:Bind OnAvailableHideClicked}"
                                    IsEnabled="{x:Bind IsAvailableHideEnabled, Mode=OneWay}"
                                    Label="{x:Bind root:ResourceService.UpdateManagerResource.GetString('Hide')}"
                                    Style="{StaticResource AppBarButtonStyle}"
                                    ToolTipService.ToolTip="{x:Bind root:ResourceService.UpdateManagerResource.GetString('HideUpdateToolTip')}">

                                    <AppBarButton.Icon>
                                        <FontIcon Glyph="&#xED1A;" />
                                    </AppBarButton.Icon>
                                </AppBarButton>

                                <AppBarButton
                                    Margin="0,0,3,0"
                                    VerticalAlignment="Center"
                                    Click="{x:Bind OnAvailableInstallClicked}"
                                    IsEnabled="{x:Bind IsAvailableInstallEnabled, Mode=OneWay}"
                                    Label="{x:Bind root:ResourceService.UpdateManagerResource.GetString('Install')}"
                                    Style="{StaticResource AppBarButtonStyle}"
                                    ToolTipService.ToolTip="{x:Bind root:ResourceService.UpdateManagerResource.GetString('InstallSelectedUpdate')}">

                                    <AppBarButton.Icon>
                                        <FontIcon Glyph="&#xE896;" />
                                    </AppBarButton.Icon>
                                </AppBarButton>

                                <AppBarButton
                                    VerticalAlignment="Center"
                                    Click="{x:Bind OnAvailableCancelInstallClicked}"
                                    IsEnabled="{x:Bind IsAvailableCancelInstallEnabled, Mode=OneWay}"
                                    Label="{x:Bind root:ResourceService.UpdateManagerResource.GetString('Cancel')}"
                                    Style="{StaticResource AppBarButtonStyle}"
                                    ToolTipService.ToolTip="{x:Bind root:ResourceService.UpdateManagerResource.GetString('CancelSelectedUpdate')}">

                                    <AppBarButton.Icon>
                                        <FontIcon Glyph="&#xE711;" />
                                    </AppBarButton.Icon>
                                </AppBarButton>
                            </StackPanel>
                        </ContentControl>
                    </Grid>

                    <Grid Margin="0,0,0,3" Visibility="{x:Bind converter:ValueCheckConverterHelper.IsCurrentItem(SelectedItem, UpdateManagerNavigationView.MenuItems[0]), Mode=OneWay}">

                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>

                        <Grid
                            Grid.Row="0"
                            Padding="16,12"
                            Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                            BorderThickness="1"
                            CornerRadius="{StaticResource ControlCornerRadius}"
                            Visibility="{x:Bind converter:ValueConverterHelper.IntToVisibilityReverseConvert(AvailableUpdateCollection.Count), Mode=OneWay}">

                            <TextBlock
                                Margin="0,10"
                                VerticalAlignment="Center"
                                Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('NoAvailableUpdate')}"
                                TextAlignment="Center" />
                        </Grid>

                        <ListView
                            Grid.Row="1"
                            ItemsSource="{x:Bind AvailableUpdateCollection, Mode=OneWay}"
                            SelectionMode="None"
                            Visibility="{x:Bind converter:ValueConverterHelper.IntToVisibilityConvert(AvailableUpdateCollection.Count), Mode=OneWay}">

                            <ListView.ItemContainerStyle>
                                <Style BasedOn="{StaticResource DefaultListViewItemStyle}" TargetType="ListViewItem">
                                    <Setter Property="Background" Value="Transparent" />
                                    <Setter Property="Margin" Value="0" />
                                    <Setter Property="MinHeight" Value="0" />
                                    <Setter Property="Padding" Value="0" />
                                </Style>
                            </ListView.ItemContainerStyle>

                            <ListView.ItemTemplate>
                                <DataTemplate x:DataType="model:UpdateModel">
                                    <muxc:Expander
                                        Margin="0,0,0,3"
                                        HorizontalAlignment="Stretch"
                                        HorizontalContentAlignment="Stretch"
                                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                        IsExpanded="False">

                                        <muxc:Expander.Header>
                                            <Grid HorizontalAlignment="Stretch" VerticalAlignment="Center">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition Width="Auto" />
                                                </Grid.ColumnDefinitions>

                                                <CheckBox
                                                    Grid.Column="0"
                                                    MinWidth="0"
                                                    Margin="0,0,12,0"
                                                    Command="{StaticResource AvailableCheckBoxClickCommand}"
                                                    CommandParameter="{x:Bind}"
                                                    IsChecked="{x:Bind IsSelected, Mode=OneWay}">

                                                    <ToolTipService.ToolTip>
                                                        <ToolTip MaxWidth="9999">
                                                            <Grid>
                                                                <TextBlock Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('SelectedToolTip')}" Visibility="{x:Bind IsSelected, Mode=OneWay}" />
                                                                <TextBlock Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('UnSelectedToolTip')}" Visibility="{x:Bind converter:ValueConverterHelper.BooleanToVisibilityReverseConvert(IsSelected), Mode=OneWay}" />
                                                            </Grid>
                                                        </ToolTip>
                                                    </ToolTipService.ToolTip>
                                                </CheckBox>

                                                <StackPanel
                                                    Grid.Column="1"
                                                    Margin="0,12,20,12"
                                                    VerticalAlignment="Center"
                                                    Orientation="Vertical">

                                                    <TextBlock
                                                        x:Name="TitleText"
                                                        Style="{StaticResource BodyTextBlockStyle}"
                                                        Text="{x:Bind Title}"
                                                        TextTrimming="CharacterEllipsis"
                                                        TextWrapping="NoWrap">

                                                        <ToolTipService.ToolTip>
                                                            <ToolTip
                                                                MaxWidth="9999"
                                                                Content="{x:Bind Title}"
                                                                Visibility="{Binding ElementName=TitleText, Path=IsTextTrimmed, Mode=OneWay}" />
                                                        </ToolTipService.ToolTip>
                                                    </TextBlock>

                                                    <TextBlock
                                                        x:Name="UpdateProgressText"
                                                        Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                        Style="{StaticResource CaptionTextBlockStyle}"
                                                        Text="{x:Bind UpdateProgress, Mode=OneWay}"
                                                        TextTrimming="CharacterEllipsis"
                                                        TextWrapping="NoWrap">

                                                        <ToolTipService.ToolTip>
                                                            <ToolTip
                                                                MaxWidth="9999"
                                                                Content="{x:Bind UpdateProgress, Mode=OneWay}"
                                                                Visibility="{Binding ElementName=UpdateProgressText, Path=IsTextTrimmed, Mode=OneWay}" />
                                                        </ToolTipService.ToolTip>
                                                    </TextBlock>
                                                </StackPanel>

                                                <muxc:ProgressRing
                                                    Grid.Column="2"
                                                    Width="32"
                                                    Height="32"
                                                    Margin="0,0,5,0"
                                                    IsActive="{x:Bind IsUpdating, Mode=OneWay}"
                                                    IsIndeterminate="{x:Bind IsUpdatePreparing, Mode=OneWay}"
                                                    Visibility="{x:Bind IsUpdating, Mode=OneWay}"
                                                    Value="{x:Bind UpdatePercentage, Mode=OneWay}" />

                                                <StackPanel
                                                    Grid.Column="3"
                                                    Height="30"
                                                    Margin="0,0,-15,0"
                                                    BorderBrush="{ThemeResource ButtonBorderBrush}"
                                                    BorderThickness="{ThemeResource ButtonBorderThemeThickness}"
                                                    CornerRadius="{ThemeResource ControlCornerRadius}"
                                                    Orientation="Horizontal">

                                                    <Button
                                                        VerticalAlignment="Stretch"
                                                        VerticalContentAlignment="Center"
                                                        BorderThickness="0,0,1,0"
                                                        Command="{StaticResource AvailableInstallCommand}"
                                                        CommandParameter="{x:Bind}"
                                                        Content="{x:Bind root:ResourceService.UpdateManagerResource.GetString('Install')}"
                                                        CornerRadius="0"
                                                        ToolTipService.ToolTip="{x:Bind root:ResourceService.UpdateManagerResource.GetString('InstallUpdate')}"
                                                        Visibility="{x:Bind converter:ValueConverterHelper.BooleanToVisibilityReverseConvert(IsUpdating), Mode=OneWay}" />

                                                    <Button
                                                        VerticalAlignment="Stretch"
                                                        VerticalContentAlignment="Center"
                                                        BorderThickness="0,0,1,0"
                                                        Command="{StaticResource AvailableCancelInstallCommand}"
                                                        CommandParameter="{x:Bind UpdateID}"
                                                        Content="{x:Bind root:ResourceService.UpdateManagerResource.GetString('Cancel')}"
                                                        CornerRadius="0"
                                                        IsEnabled="{x:Bind converter:ValueConverterHelper.BooleanReverseConvert(IsUpdateCanceled), Mode=OneWay}"
                                                        ToolTipService.ToolTip="{x:Bind root:ResourceService.UpdateManagerResource.GetString('CancelUpdate')}"
                                                        Visibility="{x:Bind IsUpdating, Mode=OneWay}" />

                                                    <Button
                                                        Width="35"
                                                        VerticalAlignment="Stretch"
                                                        BorderThickness="0"
                                                        CornerRadius="0"
                                                        ToolTipService.ToolTip="{x:Bind root:ResourceService.UpdateManagerResource.GetString('ViewMoreOptions')}">

                                                        <Button.Content>
                                                            <muxc:AnimatedIcon
                                                                Width="12"
                                                                Height="12"
                                                                HorizontalAlignment="Right"
                                                                VerticalAlignment="Center"
                                                                AutomationProperties.AccessibilityView="Raw">
                                                                <animatedvisuals:AnimatedChevronDownSmallVisualSource />
                                                                <muxc:AnimatedIcon.FallbackIconSource>
                                                                    <muxc:FontIconSource
                                                                        FontFamily="{ThemeResource SymbolThemeFontFamily}"
                                                                        FontSize="8"
                                                                        Glyph="&#xE96E;"
                                                                        IsTextScaleFactorEnabled="False" />
                                                                </muxc:AnimatedIcon.FallbackIconSource>
                                                            </muxc:AnimatedIcon>
                                                        </Button.Content>

                                                        <Button.Flyout>
                                                            <MenuFlyout Placement="Bottom">
                                                                <MenuFlyoutItem
                                                                    Command="{StaticResource AvailableHideCommand}"
                                                                    CommandParameter="{x:Bind}"
                                                                    IsEnabled="{x:Bind converter:ValueConverterHelper.BooleanReverseConvert(IsUpdating), Mode=OneWay}"
                                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('HideUpdate')}">

                                                                    <MenuFlyoutItem.Icon>
                                                                        <FontIcon Glyph="&#xED1A;" />
                                                                    </MenuFlyoutItem.Icon>
                                                                </MenuFlyoutItem>

                                                                <MenuFlyoutSeparator />

                                                                <MenuFlyoutItem
                                                                    Command="{StaticResource CopyInformationCommand}"
                                                                    CommandParameter="{x:Bind UpdateInformation}"
                                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('CopyInformation')}">

                                                                    <MenuFlyoutItem.Icon>
                                                                        <FontIcon Glyph="&#xE8C8;" />
                                                                    </MenuFlyoutItem.Icon>
                                                                </MenuFlyoutItem>

                                                                <MenuFlyoutItem
                                                                    Command="{StaticResource OpenSupportUrlCommand}"
                                                                    CommandParameter="{x:Bind SupportURL}"
                                                                    IsEnabled="{x:Bind converter:ValueConverterHelper.StringToBooleanConvert(SupportURL)}"
                                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('OpenSupportUrl')}">

                                                                    <MenuFlyoutItem.Icon>
                                                                        <FontIcon Glyph="&#xE71B;" />
                                                                    </MenuFlyoutItem.Icon>
                                                                </MenuFlyoutItem>
                                                            </MenuFlyout>
                                                        </Button.Flyout>
                                                    </Button>
                                                </StackPanel>
                                            </Grid>
                                        </muxc:Expander.Header>

                                        <muxc:Expander.Content>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition Width="*" />
                                                </Grid.ColumnDefinitions>

                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition Height="Auto" />
                                                </Grid.RowDefinitions>

                                                <FontIcon
                                                    Grid.Row="0"
                                                    Grid.Column="0"
                                                    Margin="0,4,16,3"
                                                    VerticalAlignment="Top"
                                                    FontSize="12"
                                                    Glyph="&#xE915;" />

                                                <TextBlock
                                                    Grid.Row="0"
                                                    Grid.Column="1"
                                                    Margin="0,0,3,3"
                                                    FontSize="14"
                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('Description')}" />

                                                <TextBlock
                                                    Grid.Row="0"
                                                    Grid.Column="2"
                                                    Margin="0,0,0,3"
                                                    Text="{x:Bind Description}"
                                                    TextWrapping="Wrap" />

                                                <FontIcon
                                                    Grid.Row="1"
                                                    Grid.Column="0"
                                                    Margin="0,4,16,3"
                                                    VerticalAlignment="Top"
                                                    FontSize="12"
                                                    Glyph="&#xE915;" />

                                                <TextBlock
                                                    Grid.Row="1"
                                                    Grid.Column="1"
                                                    Margin="0,0,3,3"
                                                    FontSize="14"
                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('IsBeta')}" />

                                                <TextBlock
                                                    Grid.Row="1"
                                                    Grid.Column="2"
                                                    Margin="0,0,0,3"
                                                    Text="{x:Bind IsBeta}"
                                                    TextWrapping="Wrap" />

                                                <FontIcon
                                                    Grid.Row="2"
                                                    Grid.Column="0"
                                                    Margin="0,4,16,3"
                                                    VerticalAlignment="Top"
                                                    FontSize="12"
                                                    Glyph="&#xE915;" />

                                                <TextBlock
                                                    Grid.Row="2"
                                                    Grid.Column="1"
                                                    Margin="0,0,3,3"
                                                    FontSize="14"
                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('IsMandatory')}" />

                                                <TextBlock
                                                    Grid.Row="2"
                                                    Grid.Column="2"
                                                    Margin="0,0,0,3"
                                                    Text="{x:Bind IsMandatory}"
                                                    TextWrapping="Wrap" />

                                                <FontIcon
                                                    Grid.Row="3"
                                                    Grid.Column="0"
                                                    Margin="0,4,16,3"
                                                    VerticalAlignment="Top"
                                                    FontSize="12"
                                                    Glyph="&#xE915;" />

                                                <TextBlock
                                                    Grid.Row="3"
                                                    Grid.Column="1"
                                                    Margin="0,0,3,3"
                                                    FontSize="14"
                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('MaxDownloadSize')}" />

                                                <TextBlock
                                                    Grid.Row="3"
                                                    Grid.Column="2"
                                                    Margin="0,0,0,3"
                                                    Text="{x:Bind MaxDownloadSize}"
                                                    TextWrapping="Wrap" />

                                                <FontIcon
                                                    Grid.Row="4"
                                                    Grid.Column="0"
                                                    Margin="0,4,16,3"
                                                    VerticalAlignment="Top"
                                                    FontSize="12"
                                                    Glyph="&#xE915;" />

                                                <TextBlock
                                                    Grid.Row="4"
                                                    Grid.Column="1"
                                                    Margin="0,0,3,3"
                                                    FontSize="14"
                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('MinDownloadSize')}" />

                                                <TextBlock
                                                    Grid.Row="4"
                                                    Grid.Column="2"
                                                    Margin="0,0,0,3"
                                                    Text="{x:Bind MinDownloadSize}"
                                                    TextWrapping="Wrap" />

                                                <FontIcon
                                                    Grid.Row="5"
                                                    Grid.Column="0"
                                                    Margin="0,4,16,3"
                                                    VerticalAlignment="Top"
                                                    FontSize="12"
                                                    Glyph="&#xE915;" />

                                                <TextBlock
                                                    Grid.Row="5"
                                                    Grid.Column="1"
                                                    Margin="0,0,3,3"
                                                    FontSize="14"
                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('MsrcSeverity')}" />

                                                <TextBlock
                                                    Grid.Row="5"
                                                    Grid.Column="2"
                                                    Margin="0,0,0,3"
                                                    Text="{x:Bind MsrcSeverity}"
                                                    TextWrapping="Wrap" />

                                                <FontIcon
                                                    Grid.Row="6"
                                                    Grid.Column="0"
                                                    Margin="0,4,16,3"
                                                    VerticalAlignment="Top"
                                                    FontSize="12"
                                                    Glyph="&#xE915;" />

                                                <TextBlock
                                                    Grid.Row="6"
                                                    Grid.Column="1"
                                                    Margin="0,0,3,3"
                                                    FontSize="14"
                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('RecommendedCpuSpeed')}" />

                                                <TextBlock
                                                    Grid.Row="6"
                                                    Grid.Column="2"
                                                    Margin="0,0,0,3"
                                                    Text="{x:Bind RecommendedCpuSpeed}"
                                                    TextWrapping="Wrap" />

                                                <FontIcon
                                                    Grid.Row="7"
                                                    Grid.Column="0"
                                                    Margin="0,4,16,3"
                                                    VerticalAlignment="Top"
                                                    FontSize="12"
                                                    Glyph="&#xE915;" />

                                                <TextBlock
                                                    Grid.Row="7"
                                                    Grid.Column="1"
                                                    Margin="0,0,3,3"
                                                    FontSize="14"
                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('RecommendedHardDiskSpace')}" />

                                                <TextBlock
                                                    Grid.Row="7"
                                                    Grid.Column="2"
                                                    Margin="0,0,0,3"
                                                    Text="{x:Bind RecommendedHardDiskSpace}"
                                                    TextWrapping="Wrap" />

                                                <FontIcon
                                                    Grid.Row="8"
                                                    Grid.Column="0"
                                                    Margin="0,4,16,3"
                                                    VerticalAlignment="Top"
                                                    FontSize="12"
                                                    Glyph="&#xE915;" />

                                                <TextBlock
                                                    Grid.Row="8"
                                                    Grid.Column="1"
                                                    Margin="0,0,3,3"
                                                    FontSize="14"
                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('RecommendedMemory')}" />

                                                <TextBlock
                                                    Grid.Row="8"
                                                    Grid.Column="2"
                                                    Margin="0,0,0,3"
                                                    Text="{x:Bind RecommendedMemory}"
                                                    TextWrapping="Wrap" />

                                                <FontIcon
                                                    Grid.Row="9"
                                                    Grid.Column="0"
                                                    Margin="0,4,16,3"
                                                    VerticalAlignment="Top"
                                                    FontSize="12"
                                                    Glyph="&#xE915;" />

                                                <TextBlock
                                                    Grid.Row="9"
                                                    Grid.Column="1"
                                                    Margin="0,0,3,3"
                                                    FontSize="14"
                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('RebootRequired')}" />

                                                <TextBlock
                                                    Grid.Row="9"
                                                    Grid.Column="2"
                                                    Margin="0,0,0,3"
                                                    Text="{x:Bind RebootRequired}"
                                                    TextWrapping="Wrap" />

                                                <FontIcon
                                                    Grid.Row="10"
                                                    Grid.Column="0"
                                                    Margin="0,4,16,3"
                                                    VerticalAlignment="Top"
                                                    FontSize="12"
                                                    Glyph="&#xE915;" />

                                                <TextBlock
                                                    Grid.Row="10"
                                                    Grid.Column="1"
                                                    Margin="0,0,3,3"
                                                    FontSize="14"
                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('ReleaseNotes')}" />

                                                <TextBlock
                                                    Grid.Row="10"
                                                    Grid.Column="2"
                                                    Margin="0,0,0,3"
                                                    Text="{x:Bind ReleaseNotes}"
                                                    TextWrapping="Wrap" />

                                                <FontIcon
                                                    Grid.Row="11"
                                                    Grid.Column="0"
                                                    Margin="0,4,16,3"
                                                    VerticalAlignment="Top"
                                                    FontSize="12"
                                                    Glyph="&#xE915;" />

                                                <TextBlock
                                                    Grid.Row="11"
                                                    Grid.Column="1"
                                                    Margin="0,0,3,3"
                                                    FontSize="14"
                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('UpdateType')}" />

                                                <TextBlock
                                                    Grid.Row="11"
                                                    Grid.Column="2"
                                                    Margin="0,0,0,3"
                                                    Text="{x:Bind UpdateType}"
                                                    TextWrapping="Wrap" />

                                                <FontIcon
                                                    Grid.Row="12"
                                                    Grid.Column="0"
                                                    Margin="0,4,16,3"
                                                    VerticalAlignment="Top"
                                                    FontSize="12"
                                                    Glyph="&#xE915;" />

                                                <TextBlock
                                                    Grid.Row="12"
                                                    Grid.Column="1"
                                                    Margin="0,0,3,3"
                                                    FontSize="14"
                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('CVEID')}" />

                                                <TextBlock
                                                    Grid.Row="12"
                                                    Grid.Column="2"
                                                    Margin="0,0,0,3"
                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('None')}"
                                                    TextWrapping="Wrap"
                                                    Visibility="{x:Bind converter:ValueConverterHelper.IntToVisibilityReverseConvert (CveIDList.Count), Mode=OneWay}" />

                                                <ListView
                                                    Grid.Row="12"
                                                    Grid.Column="2"
                                                    ItemsSource="{x:Bind CveIDList}"
                                                    SelectionMode="None"
                                                    Visibility="{x:Bind converter:ValueConverterHelper.IntToVisibilityConvert(CveIDList.Count), Mode=OneWay}">

                                                    <ListView.ItemContainerStyle>
                                                        <Style BasedOn="{StaticResource DefaultListViewItemStyle}" TargetType="ListViewItem">
                                                            <Setter Property="Background" Value="Transparent" />
                                                            <Setter Property="Margin" Value="0" />
                                                            <Setter Property="MinHeight" Value="0" />
                                                            <Setter Property="Padding" Value="0" />
                                                        </Style>
                                                    </ListView.ItemContainerStyle>

                                                    <ListView.ItemTemplate>
                                                        <DataTemplate x:DataType="sys:String">
                                                            <TextBlock
                                                                Margin="0,0,0,3"
                                                                Text="{x:Bind}"
                                                                TextTrimming="CharacterEllipsis"
                                                                TextWrapping="Wrap" />
                                                        </DataTemplate>
                                                    </ListView.ItemTemplate>
                                                </ListView>

                                                <FontIcon
                                                    Grid.Row="13"
                                                    Grid.Column="0"
                                                    Margin="0,4,16,3"
                                                    VerticalAlignment="Top"
                                                    FontSize="12"
                                                    Glyph="&#xE915;" />

                                                <TextBlock
                                                    Grid.Row="13"
                                                    Grid.Column="1"
                                                    Margin="0,0,3,3"
                                                    FontSize="14"
                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('KBArticleID')}" />

                                                <TextBlock
                                                    Grid.Row="13"
                                                    Grid.Column="2"
                                                    Margin="0,0,0,3"
                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('None')}"
                                                    TextWrapping="Wrap"
                                                    Visibility="{x:Bind converter:ValueConverterHelper.IntToVisibilityReverseConvert(KBArticleIDList.Count), Mode=OneWay}" />

                                                <ListView
                                                    Grid.Row="13"
                                                    Grid.Column="2"
                                                    ItemsSource="{x:Bind KBArticleIDList}"
                                                    SelectionMode="None"
                                                    Visibility="{x:Bind converter:ValueConverterHelper.IntToVisibilityConvert(KBArticleIDList.Count), Mode=OneWay}">

                                                    <ListView.ItemContainerStyle>
                                                        <Style BasedOn="{StaticResource DefaultListViewItemStyle}" TargetType="ListViewItem">
                                                            <Setter Property="Background" Value="Transparent" />
                                                            <Setter Property="Margin" Value="0" />
                                                            <Setter Property="MinHeight" Value="0" />
                                                            <Setter Property="Padding" Value="0,0,0,3" />
                                                        </Style>
                                                    </ListView.ItemContainerStyle>

                                                    <ListView.ItemTemplate>
                                                        <DataTemplate x:DataType="sys:String">
                                                            <HyperlinkButton
                                                                Margin="0,0,0,3"
                                                                Command="{StaticResource OpenSupportUrlCommand}"
                                                                CommandParameter="{x:Bind}"
                                                                Style="{StaticResource HyperlinkButtonStyle}">

                                                                <TextBlock
                                                                    Text="{x:Bind}"
                                                                    TextTrimming="CharacterEllipsis"
                                                                    TextWrapping="Wrap" />
                                                            </HyperlinkButton>
                                                        </DataTemplate>
                                                    </ListView.ItemTemplate>
                                                </ListView>

                                                <FontIcon
                                                    Grid.Row="14"
                                                    Grid.Column="0"
                                                    Margin="0,4,16,3"
                                                    VerticalAlignment="Top"
                                                    FontSize="12"
                                                    Glyph="&#xE915;" />

                                                <TextBlock
                                                    Grid.Row="14"
                                                    Grid.Column="1"
                                                    Margin="0,0,3,3"
                                                    FontSize="14"
                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('Language')}" />

                                                <TextBlock
                                                    Grid.Row="14"
                                                    Grid.Column="2"
                                                    Margin="0,0,0,3"
                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('None')}"
                                                    TextWrapping="Wrap"
                                                    Visibility="{x:Bind converter:ValueConverterHelper.IntToVisibilityReverseConvert(LanguageList.Count), Mode=OneWay}" />

                                                <ListView
                                                    Grid.Row="14"
                                                    Grid.Column="2"
                                                    ItemsSource="{x:Bind LanguageList}"
                                                    SelectionMode="None"
                                                    Visibility="{x:Bind converter:ValueConverterHelper.IntToVisibilityConvert(LanguageList.Count), Mode=OneWay}">

                                                    <ListView.ItemContainerStyle>
                                                        <Style BasedOn="{StaticResource DefaultListViewItemStyle}" TargetType="ListViewItem">
                                                            <Setter Property="Background" Value="Transparent" />
                                                            <Setter Property="Margin" Value="0" />
                                                            <Setter Property="MinHeight" Value="0" />
                                                            <Setter Property="Padding" Value="0" />
                                                        </Style>
                                                    </ListView.ItemContainerStyle>

                                                    <ListView.ItemTemplate>
                                                        <DataTemplate x:DataType="sys:String">
                                                            <TextBlock
                                                                Margin="0,0,0,3"
                                                                Text="{x:Bind}"
                                                                TextTrimming="CharacterEllipsis"
                                                                TextWrapping="Wrap" />
                                                        </DataTemplate>
                                                    </ListView.ItemTemplate>
                                                </ListView>

                                                <FontIcon
                                                    Grid.Row="15"
                                                    Grid.Column="0"
                                                    Margin="0,4,16,3"
                                                    VerticalAlignment="Top"
                                                    FontSize="12"
                                                    Glyph="&#xE915;" />

                                                <TextBlock
                                                    Grid.Row="15"
                                                    Grid.Column="1"
                                                    Margin="0,0,3,3"
                                                    FontSize="15"
                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('MoreInfo')}" />

                                                <TextBlock
                                                    Grid.Row="15"
                                                    Grid.Column="2"
                                                    Margin="0,0,0,3"
                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('None')}"
                                                    TextWrapping="Wrap"
                                                    Visibility="{x:Bind converter:ValueConverterHelper.IntToVisibilityReverseConvert(MoreInfoList.Count), Mode=OneWay}" />

                                                <ListView
                                                    Grid.Row="15"
                                                    Grid.Column="2"
                                                    ItemsSource="{x:Bind MoreInfoList}"
                                                    SelectionMode="None"
                                                    Visibility="{x:Bind converter:ValueConverterHelper.IntToVisibilityConvert(MoreInfoList.Count), Mode=OneWay}">

                                                    <ListView.ItemContainerStyle>
                                                        <Style BasedOn="{StaticResource DefaultListViewItemStyle}" TargetType="ListViewItem">
                                                            <Setter Property="Background" Value="Transparent" />
                                                            <Setter Property="Margin" Value="0" />
                                                            <Setter Property="MinHeight" Value="0" />
                                                            <Setter Property="Padding" Value="0" />
                                                        </Style>
                                                    </ListView.ItemContainerStyle>

                                                    <ListView.ItemTemplate>
                                                        <DataTemplate x:DataType="sys:String">
                                                            <HyperlinkButton
                                                                Margin="0,0,0,3"
                                                                Command="{StaticResource OpenSupportUrlCommand}"
                                                                CommandParameter="{x:Bind}"
                                                                Style="{StaticResource HyperlinkButtonStyle}">

                                                                <TextBlock
                                                                    Text="{x:Bind}"
                                                                    TextTrimming="CharacterEllipsis"
                                                                    TextWrapping="Wrap" />
                                                            </HyperlinkButton>
                                                        </DataTemplate>
                                                    </ListView.ItemTemplate>
                                                </ListView>
                                            </Grid>
                                        </muxc:Expander.Content>
                                    </muxc:Expander>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>
                    </Grid>

                    <!--  已安装更新  -->
                    <Grid
                        Height="61"
                        Margin="0,0,0,3"
                        Padding="18,0,10,0"
                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1"
                        CornerRadius="{StaticResource ControlCornerRadius}"
                        Visibility="{x:Bind converter:ValueCheckConverterHelper.IsCurrentItem(SelectedItem, UpdateManagerNavigationView.MenuItems[1]), Mode=OneWay}">

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <FontIcon
                            Grid.Column="0"
                            Margin="0,0,12,0"
                            FontSize="16"
                            Glyph="&#xE74C;" />

                        <TextBlock
                            Grid.Column="1"
                            VerticalAlignment="Center"
                            Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('Operation')}" />

                        <ContentControl
                            Grid.Column="2"
                            VerticalAlignment="Center"
                            IsEnabled="{x:Bind sys:Convert.ToBoolean(InstalledUpdateCollection.Count), Mode=OneWay}">

                            <StackPanel Orientation="Horizontal">
                                <AppBarButton
                                    Margin="0,0,3,0"
                                    VerticalAlignment="Center"
                                    Click="{x:Bind OnInstalledSelectAllClicked}"
                                    Label="{x:Bind root:ResourceService.UpdateManagerResource.GetString('SelectAll')}"
                                    Style="{StaticResource AppBarButtonStyle}">

                                    <AppBarButton.Icon>
                                        <FontIcon Glyph="&#xE8B3;" />
                                    </AppBarButton.Icon>
                                </AppBarButton>

                                <AppBarButton
                                    Margin="0,0,3,0"
                                    VerticalAlignment="Center"
                                    Click="{x:Bind OnInstalledSelectNoneClicked}"
                                    Label="{x:Bind root:ResourceService.UpdateManagerResource.GetString('SelectNone')}"
                                    Style="{StaticResource AppBarButtonStyle}">

                                    <AppBarButton.Icon>
                                        <FontIcon Glyph="&#xEA48;" />
                                    </AppBarButton.Icon>
                                </AppBarButton>

                                <AppBarButton
                                    VerticalAlignment="Center"
                                    Click="{x:Bind OnInstalledUnInstallClicked}"
                                    IsEnabled="{x:Bind IsInstalledUnInstallEnabled, Mode=OneWay}"
                                    Label="{x:Bind root:ResourceService.UpdateManagerResource.GetString('UnInstall')}"
                                    Style="{StaticResource AppBarButtonStyle}">

                                    <AppBarButton.Icon>
                                        <FontIcon Glyph="&#xE74D;" />
                                    </AppBarButton.Icon>
                                </AppBarButton>
                            </StackPanel>
                        </ContentControl>
                    </Grid>

                    <Grid Margin="0,0,0,3" Visibility="{x:Bind converter:ValueCheckConverterHelper.IsCurrentItem(SelectedItem, UpdateManagerNavigationView.MenuItems[1]), Mode=OneWay}">

                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>

                        <Grid
                            Grid.Row="0"
                            Padding="16,12"
                            Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                            BorderThickness="1"
                            CornerRadius="{StaticResource ControlCornerRadius}"
                            Visibility="{x:Bind converter:ValueConverterHelper.IntToVisibilityReverseConvert(InstalledUpdateCollection.Count), Mode=OneWay}">

                            <TextBlock
                                Margin="0,10"
                                VerticalAlignment="Center"
                                Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('NoInstalledUpdate')}"
                                TextAlignment="Center" />
                        </Grid>

                        <ListView
                            Grid.Row="1"
                            ItemsSource="{x:Bind InstalledUpdateCollection, Mode=OneWay}"
                            SelectionMode="None"
                            Visibility="{x:Bind converter:ValueConverterHelper.IntToVisibilityConvert(InstalledUpdateCollection.Count), Mode=OneWay}">

                            <ListView.ItemContainerStyle>
                                <Style BasedOn="{StaticResource DefaultListViewItemStyle}" TargetType="ListViewItem">
                                    <Setter Property="Background" Value="Transparent" />
                                    <Setter Property="Margin" Value="0" />
                                    <Setter Property="MinHeight" Value="0" />
                                    <Setter Property="Padding" Value="0" />
                                </Style>
                            </ListView.ItemContainerStyle>

                            <ListView.ItemTemplate>
                                <DataTemplate x:DataType="model:UpdateModel">
                                    <muxc:Expander
                                        Margin="0,0,0,3"
                                        HorizontalAlignment="Stretch"
                                        HorizontalContentAlignment="Stretch"
                                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                        IsExpanded="False">

                                        <muxc:Expander.Header>
                                            <Grid HorizontalAlignment="Stretch" VerticalAlignment="Center">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="Auto" />
                                                </Grid.ColumnDefinitions>

                                                <CheckBox
                                                    Grid.Column="0"
                                                    MinWidth="0"
                                                    Margin="0,0,12,0"
                                                    Command="{StaticResource InstalledCheckBoxClickCommand}"
                                                    CommandParameter="{x:Bind}"
                                                    IsChecked="{x:Bind IsSelected, Mode=OneWay}">

                                                    <ToolTipService.ToolTip>
                                                        <ToolTip MaxWidth="9999">
                                                            <Grid>
                                                                <TextBlock Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('SelectedToolTip')}" Visibility="{x:Bind IsSelected, Mode=OneWay}" />
                                                                <TextBlock Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('UnSelectedToolTip')}" Visibility="{x:Bind converter:ValueConverterHelper.BooleanToVisibilityReverseConvert(IsSelected), Mode=OneWay}" />
                                                            </Grid>
                                                        </ToolTip>
                                                    </ToolTipService.ToolTip>
                                                </CheckBox>

                                                <StackPanel
                                                    Grid.Column="1"
                                                    Margin="0,12"
                                                    VerticalAlignment="Center"
                                                    Orientation="Vertical">

                                                    <TextBlock
                                                        x:Name="TitleText"
                                                        Style="{StaticResource BodyTextBlockStyle}"
                                                        Text="{x:Bind Title}"
                                                        TextTrimming="CharacterEllipsis"
                                                        TextWrapping="NoWrap">

                                                        <ToolTipService.ToolTip>
                                                            <ToolTip
                                                                MaxWidth="9999"
                                                                Content="{x:Bind Title}"
                                                                Visibility="{Binding ElementName=TitleText, Path=IsTextTrimmed, Mode=OneWay}" />
                                                        </ToolTipService.ToolTip>
                                                    </TextBlock>

                                                    <TextBlock
                                                        x:Name="UpdateProgressText"
                                                        Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                        Style="{StaticResource CaptionTextBlockStyle}"
                                                        Text="{x:Bind UpdateProgress, Mode=OneWay}"
                                                        TextTrimming="CharacterEllipsis"
                                                        TextWrapping="NoWrap">

                                                        <ToolTipService.ToolTip>
                                                            <ToolTip
                                                                MaxWidth="9999"
                                                                Content="{x:Bind UpdateProgress, Mode=OneWay}"
                                                                Visibility="{Binding ElementName=UpdateProgressText, Path=IsTextTrimmed, Mode=OneWay}" />
                                                        </ToolTipService.ToolTip>
                                                    </TextBlock>
                                                </StackPanel>

                                                <StackPanel
                                                    Grid.Column="2"
                                                    Height="30"
                                                    Margin="20,0,0,0"
                                                    BorderBrush="{ThemeResource ButtonBorderBrush}"
                                                    BorderThickness="{ThemeResource ButtonBorderThemeThickness}"
                                                    CornerRadius="{ThemeResource ControlCornerRadius}"
                                                    Orientation="Horizontal">

                                                    <ContentControl IsEnabled="{x:Bind UpdateInformation.IsUninstallable, Mode=OneWay}">
                                                        <Button
                                                            VerticalAlignment="Stretch"
                                                            VerticalContentAlignment="Center"
                                                            BorderThickness="0,0,1,0"
                                                            Command="{StaticResource InstalledUnInstallCommand}"
                                                            CommandParameter="{x:Bind}"
                                                            Content="{x:Bind root:ResourceService.UpdateManagerResource.GetString('UnInstall')}"
                                                            CornerRadius="0"
                                                            IsEnabled="{x:Bind converter:ValueConverterHelper.BooleanReverseConvert(IsUpdating), Mode=OneWay}" />
                                                    </ContentControl>

                                                    <Button
                                                        Width="35"
                                                        VerticalAlignment="Stretch"
                                                        BorderThickness="0"
                                                        CornerRadius="0"
                                                        ToolTipService.ToolTip="{x:Bind root:ResourceService.UpdateManagerResource.GetString('ViewMoreOptions')}">

                                                        <Button.Content>
                                                            <muxc:AnimatedIcon
                                                                Width="12"
                                                                Height="12"
                                                                HorizontalAlignment="Right"
                                                                VerticalAlignment="Center"
                                                                AutomationProperties.AccessibilityView="Raw">
                                                                <animatedvisuals:AnimatedChevronDownSmallVisualSource />
                                                                <muxc:AnimatedIcon.FallbackIconSource>
                                                                    <muxc:FontIconSource
                                                                        FontFamily="{ThemeResource SymbolThemeFontFamily}"
                                                                        FontSize="8"
                                                                        Glyph="&#xE96E;"
                                                                        IsTextScaleFactorEnabled="False" />
                                                                </muxc:AnimatedIcon.FallbackIconSource>
                                                            </muxc:AnimatedIcon>
                                                        </Button.Content>

                                                        <Button.Flyout>
                                                            <MenuFlyout Placement="Bottom">
                                                                <MenuFlyoutItem
                                                                    Command="{StaticResource CopyInformationCommand}"
                                                                    CommandParameter="{x:Bind}"
                                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('CopyInformation')}">

                                                                    <MenuFlyoutItem.Icon>
                                                                        <FontIcon Glyph="&#xE8C8;" />
                                                                    </MenuFlyoutItem.Icon>
                                                                </MenuFlyoutItem>

                                                                <MenuFlyoutItem
                                                                    Command="{StaticResource OpenSupportUrlCommand}"
                                                                    CommandParameter="{x:Bind SupportURL}"
                                                                    IsEnabled="{x:Bind converter:ValueConverterHelper.StringToBooleanConvert(SupportURL)}"
                                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('OpenSupportUrl')}">

                                                                    <MenuFlyoutItem.Icon>
                                                                        <FontIcon Glyph="&#xE71B;" />
                                                                    </MenuFlyoutItem.Icon>
                                                                </MenuFlyoutItem>
                                                            </MenuFlyout>
                                                        </Button.Flyout>
                                                    </Button>
                                                </StackPanel>
                                            </Grid>
                                        </muxc:Expander.Header>
                                    </muxc:Expander>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>
                    </Grid>

                    <!--  隐藏更新  -->
                    <Grid
                        Height="61"
                        Margin="0,0,0,3"
                        Padding="18,0,10,0"
                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1"
                        CornerRadius="{StaticResource ControlCornerRadius}"
                        Visibility="{x:Bind converter:ValueCheckConverterHelper.IsCurrentItem(SelectedItem, UpdateManagerNavigationView.MenuItems[2]), Mode=OneWay}">

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <FontIcon
                            Grid.Column="0"
                            Margin="0,0,12,0"
                            FontSize="16"
                            Glyph="&#xE74C;" />

                        <TextBlock
                            Grid.Column="1"
                            VerticalAlignment="Center"
                            Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('Operation')}" />

                        <ContentControl
                            Grid.Column="2"
                            VerticalAlignment="Center"
                            IsEnabled="{x:Bind sys:Convert.ToBoolean(HiddenUpdateCollection.Count), Mode=OneWay}">

                            <StackPanel Orientation="Horizontal">
                                <AppBarButton
                                    Margin="0,0,3,0"
                                    VerticalAlignment="Center"
                                    Click="{x:Bind OnHiddenSelectAllClicked}"
                                    Label="{x:Bind root:ResourceService.UpdateManagerResource.GetString('SelectAll')}"
                                    Style="{StaticResource AppBarButtonStyle}">

                                    <AppBarButton.Icon>
                                        <FontIcon Glyph="&#xE8B3;" />
                                    </AppBarButton.Icon>
                                </AppBarButton>

                                <AppBarButton
                                    Margin="0,0,3,0"
                                    VerticalAlignment="Center"
                                    Click="{x:Bind OnHiddenSelectNoneClicked}"
                                    Label="{x:Bind root:ResourceService.UpdateManagerResource.GetString('SelectNone')}"
                                    Style="{StaticResource AppBarButtonStyle}">

                                    <AppBarButton.Icon>
                                        <FontIcon Glyph="&#xEA48;" />
                                    </AppBarButton.Icon>
                                </AppBarButton>

                                <AppBarButton
                                    VerticalAlignment="Center"
                                    Click="{x:Bind OnHiddenShowClicked}"
                                    IsEnabled="{x:Bind IsHiddenEnabled, Mode=OneWay}"
                                    Label="{x:Bind root:ResourceService.UpdateManagerResource.GetString('Show')}"
                                    Style="{StaticResource AppBarButtonStyle}"
                                    ToolTipService.ToolTip="{x:Bind root:ResourceService.UpdateManagerResource.GetString('ShowUpdateToolTip')}">

                                    <AppBarButton.Icon>
                                        <FontIcon Glyph="&#xE890;" />
                                    </AppBarButton.Icon>
                                </AppBarButton>
                            </StackPanel>
                        </ContentControl>
                    </Grid>

                    <Grid Margin="0,0,0,3" Visibility="{x:Bind converter:ValueCheckConverterHelper.IsCurrentItem(SelectedItem, UpdateManagerNavigationView.MenuItems[2]), Mode=OneWay}">

                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>

                        <Grid
                            Grid.Row="0"
                            Padding="16,12"
                            Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                            BorderThickness="1"
                            CornerRadius="{StaticResource ControlCornerRadius}"
                            Visibility="{x:Bind converter:ValueConverterHelper.IntToVisibilityReverseConvert(HiddenUpdateCollection.Count), Mode=OneWay}">

                            <TextBlock
                                Margin="0,10"
                                VerticalAlignment="Center"
                                Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('NoHiddenUpdate')}"
                                TextAlignment="Center" />
                        </Grid>

                        <ListView
                            Grid.Row="1"
                            ItemsSource="{x:Bind HiddenUpdateCollection, Mode=OneWay}"
                            SelectionMode="None"
                            Visibility="{x:Bind converter:ValueConverterHelper.IntToVisibilityConvert(HiddenUpdateCollection.Count), Mode=OneWay}">

                            <ListView.ItemContainerStyle>
                                <Style BasedOn="{StaticResource DefaultListViewItemStyle}" TargetType="ListViewItem">
                                    <Setter Property="Background" Value="Transparent" />
                                    <Setter Property="Margin" Value="0" />
                                    <Setter Property="MinHeight" Value="0" />
                                    <Setter Property="Padding" Value="0" />
                                </Style>
                            </ListView.ItemContainerStyle>

                            <ListView.ItemTemplate>
                                <DataTemplate x:DataType="model:UpdateModel">
                                    <muxc:Expander
                                        Margin="0,0,0,3"
                                        HorizontalAlignment="Stretch"
                                        HorizontalContentAlignment="Stretch"
                                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                        IsExpanded="False">

                                        <muxc:Expander.Header>
                                            <Grid HorizontalAlignment="Stretch" VerticalAlignment="Center">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="Auto" />
                                                </Grid.ColumnDefinitions>

                                                <CheckBox
                                                    Grid.Column="0"
                                                    MinWidth="0"
                                                    Margin="0,0,12,0"
                                                    Command="{StaticResource HiddenCheckBoxClickCommand}"
                                                    CommandParameter="{x:Bind}"
                                                    IsChecked="{x:Bind IsSelected, Mode=OneWay}">

                                                    <ToolTipService.ToolTip>
                                                        <ToolTip MaxWidth="9999">
                                                            <Grid>
                                                                <TextBlock Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('SelectedToolTip')}" Visibility="{x:Bind IsSelected, Mode=OneWay}" />
                                                                <TextBlock Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('UnSelectedToolTip')}" Visibility="{x:Bind converter:ValueConverterHelper.BooleanToVisibilityReverseConvert(IsSelected), Mode=OneWay}" />
                                                            </Grid>
                                                        </ToolTip>
                                                    </ToolTipService.ToolTip>
                                                </CheckBox>

                                                <StackPanel
                                                    Grid.Column="1"
                                                    Margin="0,12"
                                                    VerticalAlignment="Center"
                                                    Orientation="Vertical">

                                                    <TextBlock
                                                        x:Name="TitleText"
                                                        Style="{StaticResource BodyTextBlockStyle}"
                                                        Text="{x:Bind Title}"
                                                        TextTrimming="CharacterEllipsis"
                                                        TextWrapping="NoWrap">

                                                        <ToolTipService.ToolTip>
                                                            <ToolTip
                                                                MaxWidth="9999"
                                                                Content="{x:Bind Title}"
                                                                Visibility="{Binding ElementName=TitleText, Path=IsTextTrimmed, Mode=OneWay}" />
                                                        </ToolTipService.ToolTip>
                                                    </TextBlock>

                                                    <TextBlock
                                                        x:Name="UpdateProgressText"
                                                        Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                        Style="{StaticResource CaptionTextBlockStyle}"
                                                        Text="{x:Bind UpdateProgress, Mode=OneWay}"
                                                        TextTrimming="CharacterEllipsis"
                                                        TextWrapping="NoWrap">

                                                        <ToolTipService.ToolTip>
                                                            <ToolTip
                                                                MaxWidth="9999"
                                                                Content="{x:Bind UpdateProgress, Mode=OneWay}"
                                                                Visibility="{Binding ElementName=UpdateProgressText, Path=IsTextTrimmed, Mode=OneWay}" />
                                                        </ToolTipService.ToolTip>
                                                    </TextBlock>
                                                </StackPanel>

                                                <StackPanel
                                                    Grid.Column="2"
                                                    Height="30"
                                                    Margin="20,0,0,0"
                                                    BorderBrush="{ThemeResource ButtonBorderBrush}"
                                                    BorderThickness="{ThemeResource ButtonBorderThemeThickness}"
                                                    CornerRadius="{ThemeResource ControlCornerRadius}"
                                                    Orientation="Horizontal">

                                                    <ContentControl IsEnabled="{x:Bind UpdateInformation.IsUninstallable, Mode=OneWay}">
                                                        <Button
                                                            VerticalAlignment="Stretch"
                                                            VerticalContentAlignment="Center"
                                                            BorderThickness="0,0,1,0"
                                                            Command="{StaticResource InstalledUnInstallCommand}"
                                                            CommandParameter="{x:Bind}"
                                                            Content="{x:Bind root:ResourceService.UpdateManagerResource.GetString('UnInstall')}"
                                                            CornerRadius="0"
                                                            IsEnabled="{x:Bind converter:ValueConverterHelper.BooleanReverseConvert(IsUpdating), Mode=OneWay}" />
                                                    </ContentControl>

                                                    <Button
                                                        Width="35"
                                                        VerticalAlignment="Stretch"
                                                        BorderThickness="0"
                                                        CornerRadius="0"
                                                        ToolTipService.ToolTip="{x:Bind root:ResourceService.UpdateManagerResource.GetString('ViewMoreOptions')}">

                                                        <Button.Content>
                                                            <muxc:AnimatedIcon
                                                                Width="12"
                                                                Height="12"
                                                                HorizontalAlignment="Right"
                                                                VerticalAlignment="Center"
                                                                AutomationProperties.AccessibilityView="Raw">
                                                                <animatedvisuals:AnimatedChevronDownSmallVisualSource />
                                                                <muxc:AnimatedIcon.FallbackIconSource>
                                                                    <muxc:FontIconSource
                                                                        FontFamily="{ThemeResource SymbolThemeFontFamily}"
                                                                        FontSize="8"
                                                                        Glyph="&#xE96E;"
                                                                        IsTextScaleFactorEnabled="False" />
                                                                </muxc:AnimatedIcon.FallbackIconSource>
                                                            </muxc:AnimatedIcon>
                                                        </Button.Content>

                                                        <Button.Flyout>
                                                            <MenuFlyout Placement="Bottom">
                                                                <MenuFlyoutItem
                                                                    Command="{StaticResource CopyInformationCommand}"
                                                                    CommandParameter="{x:Bind}"
                                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('CopyInformation')}" />

                                                                <MenuFlyoutItem
                                                                    Command="{StaticResource OpenSupportUrlCommand}"
                                                                    CommandParameter="{x:Bind SupportURL}"
                                                                    IsEnabled="{x:Bind converter:ValueConverterHelper.StringToBooleanConvert(SupportURL)}"
                                                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('OpenSupportUrl')}" />
                                                            </MenuFlyout>
                                                        </Button.Flyout>
                                                    </Button>
                                                </StackPanel>
                                            </Grid>
                                        </muxc:Expander.Header>
                                    </muxc:Expander>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>
                    </Grid>

                    <!--  更新历史记录  -->
                    <Grid
                        Height="61"
                        Margin="0,0,0,3"
                        Padding="18,0,10,0"
                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1"
                        CornerRadius="{StaticResource ControlCornerRadius}"
                        Visibility="{x:Bind converter:ValueCheckConverterHelper.IsCurrentItem(SelectedItem, UpdateManagerNavigationView.MenuItems[3]), Mode=OneWay}">

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <FontIcon
                            Grid.Column="0"
                            Margin="0,0,12,0"
                            FontSize="16"
                            Glyph="&#xE74C;" />

                        <TextBlock
                            Grid.Column="1"
                            VerticalAlignment="Center"
                            Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('Operation')}" />
                    </Grid>

                    <Grid Margin="0,0,0,3" Visibility="{x:Bind converter:ValueCheckConverterHelper.IsCurrentItem(SelectedItem, UpdateManagerNavigationView.MenuItems[3]), Mode=OneWay}">

                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>

                        <Grid
                            Grid.Row="0"
                            Padding="16,12"
                            Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                            BorderThickness="1"
                            CornerRadius="{StaticResource ControlCornerRadius}"
                            Visibility="{x:Bind converter:ValueConverterHelper.IntToVisibilityReverseConvert(UpdateHistoryCollection.Count), Mode=OneWay}">

                            <TextBlock
                                Margin="0,10"
                                VerticalAlignment="Center"
                                Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('NoUpdateHistory')}"
                                TextAlignment="Center" />
                        </Grid>

                        <ListView
                            Grid.Row="1"
                            ItemsSource="{x:Bind UpdateHistoryCollection, Mode=OneWay}"
                            SelectionMode="None"
                            Visibility="{x:Bind converter:ValueConverterHelper.IntToVisibilityConvert(UpdateHistoryCollection.Count), Mode=OneWay}">

                            <ListView.ItemContainerStyle>
                                <Style BasedOn="{StaticResource DefaultListViewItemStyle}" TargetType="ListViewItem">
                                    <Setter Property="Background" Value="Transparent" />
                                    <Setter Property="Margin" Value="0" />
                                    <Setter Property="MinHeight" Value="0" />
                                    <Setter Property="Padding" Value="0" />
                                </Style>
                            </ListView.ItemContainerStyle>

                            <ListView.ItemTemplate>
                                <DataTemplate x:DataType="model:UpdateModel">
                                    <muxc:Expander
                                        Margin="0,0,0,3"
                                        HorizontalAlignment="Stretch"
                                        HorizontalContentAlignment="Stretch"
                                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                        IsExpanded="False">

                                        <muxc:Expander.Header>
                                            <Grid HorizontalAlignment="Stretch" VerticalAlignment="Center">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="Auto" />
                                                </Grid.ColumnDefinitions>

                                                <StackPanel
                                                    Grid.Column="0"
                                                    Margin="0,12"
                                                    VerticalAlignment="Center"
                                                    Orientation="Vertical">

                                                    <TextBlock
                                                        x:Name="TitleText"
                                                        Style="{StaticResource BodyTextBlockStyle}"
                                                        Text="{x:Bind Title}"
                                                        TextTrimming="CharacterEllipsis"
                                                        TextWrapping="NoWrap">

                                                        <ToolTipService.ToolTip>
                                                            <ToolTip
                                                                MaxWidth="9999"
                                                                Content="{x:Bind Title}"
                                                                Visibility="{Binding ElementName=TitleText, Path=IsTextTrimmed, Mode=OneWay}" />
                                                        </ToolTipService.ToolTip>
                                                    </TextBlock>

                                                    <TextBlock
                                                        x:Name="UpdateProgressText"
                                                        Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                        Style="{StaticResource CaptionTextBlockStyle}"
                                                        Text="{x:Bind UpdateProgress, Mode=OneWay}"
                                                        TextTrimming="CharacterEllipsis"
                                                        TextWrapping="NoWrap">

                                                        <ToolTipService.ToolTip>
                                                            <ToolTip
                                                                MaxWidth="9999"
                                                                Content="{x:Bind UpdateProgress, Mode=OneWay}"
                                                                Visibility="{Binding ElementName=UpdateProgressText, Path=IsTextTrimmed, Mode=OneWay}" />
                                                        </ToolTipService.ToolTip>
                                                    </TextBlock>
                                                </StackPanel>
                                            </Grid>
                                        </muxc:Expander.Header>
                                    </muxc:Expander>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>
                    </Grid>

                    <StackPanel
                        Margin="0,0,0,5"
                        VerticalAlignment="Center"
                        Orientation="Horizontal"
                        Spacing="5">

                        <FontIcon
                            Margin="0,2,0,0"
                            VerticalAlignment="Center"
                            FontSize="16"
                            FontWeight="Medium"
                            Glyph="&#xE76C;" />

                        <TextBlock
                            VerticalAlignment="Center"
                            FontSize="16"
                            Style="{StaticResource BodyTextBlockStyle}"
                            Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('MoreOptions')}" />
                    </StackPanel>

                    <!--  更新设置  -->
                    <muxc:Expander
                        Margin="0,0,0,3"
                        Padding="0"
                        HorizontalAlignment="Stretch"
                        HorizontalContentAlignment="Stretch"
                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        IsExpanded="True">

                        <muxc:Expander.Resources>
                            <SolidColorBrush x:Key="ExpanderChevronBackground" Color="Transparent" />
                            <SolidColorBrush x:Key="ExpanderChevronPointerOverBackground" Color="Transparent" />
                            <SolidColorBrush x:Key="ExpanderChevronPressedBackground" Color="Transparent" />
                        </muxc:Expander.Resources>

                        <muxc:Expander.Header>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <FontIcon
                                    Grid.Column="0"
                                    Margin="0,0,12,0"
                                    FontSize="16"
                                    Glyph="&#xE713;" />

                                <TextBlock
                                    Grid.Column="1"
                                    VerticalAlignment="Center"
                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('UpdateSettings')}" />
                            </Grid>
                        </muxc:Expander.Header>

                        <muxc:Expander.Content>
                            <StackPanel Padding="0">
                                <Grid
                                    Height="52"
                                    Padding="44,0,16,0"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Center">

                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>

                                    <TextBlock
                                        Grid.Column="0"
                                        VerticalAlignment="Center"
                                        Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('IncludePotentiallySupersededUpdate')}" />

                                    <ToggleSwitch
                                        Grid.Column="1"
                                        MinWidth="0"
                                        Margin="0,-2,0,0"
                                        FlowDirection="{x:Bind controlHelper:ToggleSwitchHelper.GetFlowDirection(service:LanguageService.RightToLeft)}"
                                        IsOn="{x:Bind IsIncludePotentiallySupersededUpdate}"
                                        OffContent="{x:Bind root:ResourceService.UpdateManagerResource.GetString('IncludePotentiallySupersededUpdateOffContent')}"
                                        OnContent="{x:Bind root:ResourceService.UpdateManagerResource.GetString('IncludePotentiallySupersededUpdateOnContent')}"
                                        Toggled="{x:Bind OnIncludePotentiallySupersededUpdateToggled}" />
                                </Grid>

                                <MenuFlyoutSeparator />

                                <Grid
                                    Height="52"
                                    Padding="44,0,16,0"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Center">

                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>

                                    <TextBlock
                                        Grid.Column="0"
                                        VerticalAlignment="Center"
                                        Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('UpdateSource')}" />

                                    <muxc:DropDownButton Grid.Column="1" Content="{x:Bind SelectedUpdateSource.Value, Mode=OneWay}">
                                        <muxc:DropDownButton.Flyout>
                                            <MenuFlyout Placement="Bottom">
                                                <muxc:RadioMenuFlyoutItem
                                                    Height="32"
                                                    Padding="11,0"
                                                    Click="{x:Bind OnUpdateSourceSelectClicked}"
                                                    GroupName="UpdateSourceRadioGroup"
                                                    IsChecked="{x:Bind SelectedUpdateSource.Key.Equals(UpdateSourceList[0].Key), Mode=OneWay}"
                                                    Tag="0"
                                                    Text="{x:Bind sys:Convert.ToString(UpdateSourceList[0].Value)}" />

                                                <MenuFlyoutSeparator />

                                                <muxc:RadioMenuFlyoutItem
                                                    Height="32"
                                                    Padding="11,0"
                                                    Click="{x:Bind OnUpdateSourceSelectClicked}"
                                                    GroupName="UpdateSourceRadioGroup"
                                                    IsChecked="{x:Bind SelectedUpdateSource.Key.Equals(UpdateSourceList[1].Key), Mode=OneWay}"
                                                    Tag="1"
                                                    Text="{x:Bind sys:Convert.ToString(UpdateSourceList[1].Value)}" />

                                                <muxc:RadioMenuFlyoutItem
                                                    Height="32"
                                                    Padding="11,0"
                                                    Click="{x:Bind OnUpdateSourceSelectClicked}"
                                                    GroupName="UpdateSourceRadioGroup"
                                                    IsChecked="{x:Bind SelectedUpdateSource.Key.Equals(UpdateSourceList[2].Key), Mode=OneWay}"
                                                    Tag="2"
                                                    Text="{x:Bind sys:Convert.ToString(UpdateSourceList[2].Value)}" />

                                                <muxc:RadioMenuFlyoutItem
                                                    Height="32"
                                                    Padding="11,0"
                                                    Click="{x:Bind OnUpdateSourceSelectClicked}"
                                                    GroupName="UpdateSourceRadioGroup"
                                                    IsChecked="{x:Bind SelectedUpdateSource.Key.Equals(UpdateSourceList[3].Key), Mode=OneWay}"
                                                    Tag="3"
                                                    Text="{x:Bind sys:Convert.ToString(UpdateSourceList[3].Value)}" />
                                            </MenuFlyout>
                                        </muxc:DropDownButton.Flyout>
                                    </muxc:DropDownButton>
                                </Grid>
                            </StackPanel>
                        </muxc:Expander.Content>
                    </muxc:Expander>

                    <!--  更新配置  -->
                    <muxc:Expander
                        Margin="0,0,0,30"
                        Padding="0"
                        HorizontalAlignment="Stretch"
                        HorizontalContentAlignment="Stretch"
                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        IsExpanded="True">

                        <muxc:Expander.Resources>
                            <SolidColorBrush x:Key="ExpanderChevronBackground" Color="Transparent" />
                            <SolidColorBrush x:Key="ExpanderChevronPointerOverBackground" Color="Transparent" />
                            <SolidColorBrush x:Key="ExpanderChevronPressedBackground" Color="Transparent" />
                        </muxc:Expander.Resources>

                        <muxc:Expander.Header>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <FontIcon
                                    Grid.Column="0"
                                    Margin="0,0,12,0"
                                    FontSize="16"
                                    Glyph="&#xEA18;" />

                                <TextBlock
                                    Grid.Column="1"
                                    VerticalAlignment="Center"
                                    Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('UpdateConfiguration')}" />
                            </Grid>
                        </muxc:Expander.Header>

                        <muxc:Expander.Content>
                            <ContentControl HorizontalContentAlignment="Stretch" IsEnabled="{x:Bind helper:RuntimeHelper.IsElevated}">

                                <StackPanel Padding="0">
                                    <Grid
                                        Height="52"
                                        Padding="44,0,16,0"
                                        HorizontalAlignment="Stretch"
                                        VerticalAlignment="Center">

                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            Grid.Column="0"
                                            VerticalAlignment="Center"
                                            Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('ExcludeDrivers')}" />

                                        <ToggleSwitch
                                            Grid.Column="1"
                                            MinWidth="0"
                                            Margin="0,-2,0,0"
                                            FlowDirection="{x:Bind controlHelper:ToggleSwitchHelper.GetFlowDirection(service:LanguageService.RightToLeft)}"
                                            IsOn="{x:Bind IsExcludeDrivers}"
                                            OffContent="{x:Bind root:ResourceService.UpdateManagerResource.GetString('ExcludeDriversOffContent')}"
                                            OnContent="{x:Bind root:ResourceService.UpdateManagerResource.GetString('ExcludeDriversOnContent')}"
                                            Toggled="{x:Bind OnExcludeDriversToggled}" />
                                    </Grid>

                                    <MenuFlyoutSeparator />

                                    <Grid
                                        Height="52"
                                        Padding="44,0,16,0"
                                        HorizontalAlignment="Stretch"
                                        VerticalAlignment="Center">

                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            Grid.Column="0"
                                            VerticalAlignment="Center"
                                            Text="{x:Bind root:ResourceService.UpdateManagerResource.GetString('ForceAccessWIP')}" />

                                        <muxc:DropDownButton Grid.Column="1" Content="{x:Bind SelectedPreviewChannel.Key, Mode=OneWay}">
                                            <muxc:DropDownButton.Flyout>
                                                <MenuFlyout Placement="Bottom">
                                                    <muxc:RadioMenuFlyoutItem
                                                        Height="32"
                                                        Padding="11,0"
                                                        Click="{x:Bind OnPreviewChannelSelectClicked}"
                                                        GroupName="PreviewChannelRadioGroup"
                                                        IsChecked="{x:Bind SelectedPreviewChannel.Key.Equals(PreviewChannelList[0].Key), Mode=OneWay}"
                                                        Tag="0"
                                                        Text="{x:Bind sys:Convert.ToString(PreviewChannelList[0].Value)}" />

                                                    <MenuFlyoutSeparator />

                                                    <muxc:RadioMenuFlyoutItem
                                                        Height="32"
                                                        Padding="11,0"
                                                        Click="{x:Bind OnPreviewChannelSelectClicked}"
                                                        GroupName="PreviewChannelRadioGroup"
                                                        IsChecked="{x:Bind SelectedPreviewChannel.Key.Equals(PreviewChannelList[1].Key), Mode=OneWay}"
                                                        Tag="1"
                                                        Text="{x:Bind sys:Convert.ToString(PreviewChannelList[1].Value)}" />

                                                    <muxc:RadioMenuFlyoutItem
                                                        Height="32"
                                                        Padding="11,0"
                                                        Click="{x:Bind OnPreviewChannelSelectClicked}"
                                                        GroupName="PreviewChannelRadioGroup"
                                                        IsChecked="{x:Bind SelectedPreviewChannel.Key.Equals(PreviewChannelList[2].Key), Mode=OneWay}"
                                                        Tag="2"
                                                        Text="{x:Bind sys:Convert.ToString(PreviewChannelList[2].Value)}" />

                                                    <muxc:RadioMenuFlyoutItem
                                                        Height="32"
                                                        Padding="11,0"
                                                        Click="{x:Bind OnPreviewChannelSelectClicked}"
                                                        GroupName="PreviewChannelRadioGroup"
                                                        IsChecked="{x:Bind SelectedPreviewChannel.Key.Equals(PreviewChannelList[3].Key), Mode=OneWay}"
                                                        Tag="3"
                                                        Text="{x:Bind sys:Convert.ToString(PreviewChannelList[3].Value)}" />

                                                    <muxc:RadioMenuFlyoutItem
                                                        Height="32"
                                                        Padding="11,0"
                                                        Click="{x:Bind OnPreviewChannelSelectClicked}"
                                                        GroupName="PreviewChannelRadioGroup"
                                                        IsChecked="{x:Bind SelectedPreviewChannel.Key.Equals(PreviewChannelList[4].Key), Mode=OneWay}"
                                                        Tag="4"
                                                        Text="{x:Bind sys:Convert.ToString(PreviewChannelList[4].Value)}" />
                                                </MenuFlyout>
                                            </muxc:DropDownButton.Flyout>
                                        </muxc:DropDownButton>
                                    </Grid>
                                </StackPanel>
                            </ContentControl>
                        </muxc:Expander.Content>
                    </muxc:Expander>
                </StackPanel>
            </ScrollViewer>
        </muxc:NavigationView>
    </Grid>
</Page>
